<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微信小程序 基础 | XiolNote</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/xiolblog/img/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/xiolblog/assets/css/0.styles.2191e094.css" as="style"><link rel="preload" href="/xiolblog/assets/js/app.7bdb6cc9.js" as="script"><link rel="preload" href="/xiolblog/assets/js/2.43c78d48.js" as="script"><link rel="preload" href="/xiolblog/assets/js/1.12fb8230.js" as="script"><link rel="preload" href="/xiolblog/assets/js/10.d7e2e15a.js" as="script"><link rel="prefetch" href="/xiolblog/assets/js/11.18177621.js"><link rel="prefetch" href="/xiolblog/assets/js/12.98dd5cc6.js"><link rel="prefetch" href="/xiolblog/assets/js/13.d4dc4297.js"><link rel="prefetch" href="/xiolblog/assets/js/14.cbfb3f1e.js"><link rel="prefetch" href="/xiolblog/assets/js/15.726a4440.js"><link rel="prefetch" href="/xiolblog/assets/js/16.49bd8f5e.js"><link rel="prefetch" href="/xiolblog/assets/js/17.ea34497f.js"><link rel="prefetch" href="/xiolblog/assets/js/18.824e2882.js"><link rel="prefetch" href="/xiolblog/assets/js/19.6d7a7688.js"><link rel="prefetch" href="/xiolblog/assets/js/20.c4818db8.js"><link rel="prefetch" href="/xiolblog/assets/js/21.142a9626.js"><link rel="prefetch" href="/xiolblog/assets/js/22.aa43dc67.js"><link rel="prefetch" href="/xiolblog/assets/js/23.3a547151.js"><link rel="prefetch" href="/xiolblog/assets/js/24.edb8fa32.js"><link rel="prefetch" href="/xiolblog/assets/js/25.d5b2c6f9.js"><link rel="prefetch" href="/xiolblog/assets/js/26.af90cbf7.js"><link rel="prefetch" href="/xiolblog/assets/js/27.cdba9011.js"><link rel="prefetch" href="/xiolblog/assets/js/28.d85a8c9c.js"><link rel="prefetch" href="/xiolblog/assets/js/29.877af448.js"><link rel="prefetch" href="/xiolblog/assets/js/3.b376ec37.js"><link rel="prefetch" href="/xiolblog/assets/js/30.b071582e.js"><link rel="prefetch" href="/xiolblog/assets/js/31.713d7de5.js"><link rel="prefetch" href="/xiolblog/assets/js/32.8f317e93.js"><link rel="prefetch" href="/xiolblog/assets/js/33.08032e37.js"><link rel="prefetch" href="/xiolblog/assets/js/34.a9e68c61.js"><link rel="prefetch" href="/xiolblog/assets/js/35.4b83a99a.js"><link rel="prefetch" href="/xiolblog/assets/js/36.cb4b8c96.js"><link rel="prefetch" href="/xiolblog/assets/js/37.70ae747a.js"><link rel="prefetch" href="/xiolblog/assets/js/38.65a72afb.js"><link rel="prefetch" href="/xiolblog/assets/js/39.3f01233d.js"><link rel="prefetch" href="/xiolblog/assets/js/4.c8e52880.js"><link rel="prefetch" href="/xiolblog/assets/js/40.f63329ea.js"><link rel="prefetch" href="/xiolblog/assets/js/41.d483926a.js"><link rel="prefetch" href="/xiolblog/assets/js/42.78d8df8e.js"><link rel="prefetch" href="/xiolblog/assets/js/43.583767e2.js"><link rel="prefetch" href="/xiolblog/assets/js/44.0fc2ba52.js"><link rel="prefetch" href="/xiolblog/assets/js/45.de56eef2.js"><link rel="prefetch" href="/xiolblog/assets/js/46.d177b4c8.js"><link rel="prefetch" href="/xiolblog/assets/js/47.c59d8658.js"><link rel="prefetch" href="/xiolblog/assets/js/48.2cd0c32c.js"><link rel="prefetch" href="/xiolblog/assets/js/49.f27f1fcd.js"><link rel="prefetch" href="/xiolblog/assets/js/5.e46361aa.js"><link rel="prefetch" href="/xiolblog/assets/js/50.b0e25436.js"><link rel="prefetch" href="/xiolblog/assets/js/51.bca0093a.js"><link rel="prefetch" href="/xiolblog/assets/js/52.4af4644b.js"><link rel="prefetch" href="/xiolblog/assets/js/53.24c96982.js"><link rel="prefetch" href="/xiolblog/assets/js/54.b9604bcc.js"><link rel="prefetch" href="/xiolblog/assets/js/55.f44e0b48.js"><link rel="prefetch" href="/xiolblog/assets/js/56.3e49092a.js"><link rel="prefetch" href="/xiolblog/assets/js/57.0c1cee07.js"><link rel="prefetch" href="/xiolblog/assets/js/58.8874c795.js"><link rel="prefetch" href="/xiolblog/assets/js/59.14c652fd.js"><link rel="prefetch" href="/xiolblog/assets/js/6.1a1d3a31.js"><link rel="prefetch" href="/xiolblog/assets/js/60.7ff3c0c1.js"><link rel="prefetch" href="/xiolblog/assets/js/61.e72dab9b.js"><link rel="prefetch" href="/xiolblog/assets/js/62.716c4fdb.js"><link rel="prefetch" href="/xiolblog/assets/js/63.3691f80a.js"><link rel="prefetch" href="/xiolblog/assets/js/64.17bc88f2.js"><link rel="prefetch" href="/xiolblog/assets/js/65.0c25d76d.js"><link rel="prefetch" href="/xiolblog/assets/js/66.30894ba8.js"><link rel="prefetch" href="/xiolblog/assets/js/67.f85b097a.js"><link rel="prefetch" href="/xiolblog/assets/js/68.e01bf813.js"><link rel="prefetch" href="/xiolblog/assets/js/7.6f21ef4b.js"><link rel="prefetch" href="/xiolblog/assets/js/vendors~docsearch.a0f89813.js">
    <link rel="stylesheet" href="/xiolblog/assets/css/0.styles.2191e094.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xiolblog/" class="home-link router-link-active"><img src="/xiolblog/img/logo.png" alt="XiolNote" class="logo"> <span class="site-name can-hide">XiolNote</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/xiolblog/resources/website/recommend.html" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="https://xiol-liang.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><span class="title">前端学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习" class="mobile-dropdown-title"><span class="title">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/h5c3/css.html" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/less/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/JS/JS.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/TS/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/vue/Vue核心基础.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/react/react入门.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/webpack/Webpack基础.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/nodejs/node.html" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/mini-program/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/ide/vscode.html" class="nav-link">
  VScode
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/git/git.html" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目 Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目 Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiolblog/projects/covid19/Headline/" class="nav-link">
  COVID-19
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/pink-echarts/headline/" class="nav-link">
  Echarts数据可视化展板
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mymusic/Headline/" class="nav-link">
  熊熊音乐网
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mybbs/Headline/" class="nav-link">
  重师校园论坛BBS
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mymini_program/Headline/" class="nav-link">
  校园论坛小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn Other" class="dropdown-title"><span class="title">Learn Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn Other" class="mobile-dropdown-title"><span class="title">Learn Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          3D动画制作学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiolblog/language/chinese/" class="nav-link">
  Maya
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Blender
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Unreal Engine 4
</a></li></ul></li><li class="dropdown-item"><h4>
          视频剪辑学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiolblog/language/chinese/" class="nav-link">
  PhotoShop
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Premiere Pro CC
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  After Effects
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xiol-liang/xiolblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/xiolblog/resources/website/recommend.html" class="nav-link">
  Resources
</a></div><div class="nav-item"><a href="https://xiol-liang.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><span class="title">前端学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习" class="mobile-dropdown-title"><span class="title">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/h5c3/css.html" class="nav-link">
  HTML&amp;CSS
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/less/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/JS/JS.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/TS/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/vue/Vue核心基础.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/react/react入门.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/webpack/Webpack基础.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/nodejs/node.html" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/mini-program/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/ide/vscode.html" class="nav-link">
  VScode
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/front_notes/git/git.html" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目 Menu" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目 Menu" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xiolblog/projects/covid19/Headline/" class="nav-link">
  COVID-19
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/pink-echarts/headline/" class="nav-link">
  Echarts数据可视化展板
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mymusic/Headline/" class="nav-link">
  熊熊音乐网
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mybbs/Headline/" class="nav-link">
  重师校园论坛BBS
</a></li><li class="dropdown-item"><!----> <a href="/xiolblog/projects/mymini_program/Headline/" class="nav-link">
  校园论坛小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn Other" class="dropdown-title"><span class="title">Learn Other</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn Other" class="mobile-dropdown-title"><span class="title">Learn Other</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          3D动画制作学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiolblog/language/chinese/" class="nav-link">
  Maya
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Blender
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Unreal Engine 4
</a></li></ul></li><li class="dropdown-item"><h4>
          视频剪辑学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xiolblog/language/chinese/" class="nav-link">
  PhotoShop
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  Premiere Pro CC
</a></li><li class="dropdown-subitem"><a href="/xiolblog/language/japanese/" class="nav-link">
  After Effects
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xiol-liang/xiolblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/xiolblog/front_notes/mini-program/base.html" aria-current="page" class="active sidebar-link">微信小程序基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-微信小程序介绍" class="sidebar-link">1. 微信小程序介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-1-为什么是微信小程序" class="sidebar-link">1.1. 为什么是微信小程序 ？</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-2-微信小程序历史" class="sidebar-link">1.2. 微信小程序历史</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-3-疯狂的微信小程序" class="sidebar-link">1.3. 疯狂的微信小程序</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-4-还有其他的小程序-不容忽视" class="sidebar-link">1.4. 还有其他的小程序 不容忽视</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_1-5-体验" class="sidebar-link">1.5. 体验</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_2-环境准备" class="sidebar-link">2. 环境准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_2-1-注册账号" class="sidebar-link">2.1. 注册账号</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_2-2-获取appid" class="sidebar-link">2.2. 获取APPID</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_2-3-开发工具" class="sidebar-link">2.3. 开发⼯具</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_3-第一个微信小程序" class="sidebar-link">3. 第一个微信小程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_3-1-打开微信开发者工具" class="sidebar-link">3.1. 打开微信开发者⼯具</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_3-2-新建小程序项目" class="sidebar-link">3.2. 新建小程序项目</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_3-3-填写项目信息" class="sidebar-link">3.3. 填写项目信息</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_3-4-成功" class="sidebar-link">3.4. 成功</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_4-微信开发者工具介绍" class="sidebar-link">4. 微信开发者⼯具介绍</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_5-小程序结构目录" class="sidebar-link">5. 小程序结构目录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_5-1-小程序文件结构和传统web对比" class="sidebar-link">5.1. 小程序文件结构和传统web对比</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_5-2-基本的项目目录" class="sidebar-link">5.2. 基本的项目目录</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_6-小程序配置文件" class="sidebar-link">6. 小程序配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_6-1-全局配置-app-json" class="sidebar-link">6.1. 全局配置 app.json</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_6-2-页面配置page-json" class="sidebar-link">6.2. 页面配置page.json</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_6-3-sitemap-配置-了解即可" class="sidebar-link">6.3. sitemap 配置-了解即可</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_7-模板语法" class="sidebar-link">7. 模板语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_7-1-数据绑定" class="sidebar-link">7.1. 数据绑定</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_7-2-运算" class="sidebar-link">7.2. 运算</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_7-3-列表渲染" class="sidebar-link">7.3. 列表渲染</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_7-4-条件渲染" class="sidebar-link">7.4. 条件渲染</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_8-小程序事件的绑定" class="sidebar-link">8. 小程序事件的绑定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_8-1-wxml" class="sidebar-link">8.1. wxml</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_8-2-page" class="sidebar-link">8.2. page</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_8-3-特别注意" class="sidebar-link">8.3. 特别注意</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_9-样式-wxss" class="sidebar-link">9. 样式 WXSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_9-1-尺寸单位" class="sidebar-link">9.1. 尺⼨单位</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_9-2-样式导入" class="sidebar-link">9.2. 样式导⼊</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_9-3-选择器" class="sidebar-link">9.3. 选择器</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_9-4-小程序中使用less" class="sidebar-link">9.4. 小程序中使用less</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-常⻅组件" class="sidebar-link">10. 常⻅组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-1-view" class="sidebar-link">10.1. view</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-2-text" class="sidebar-link">10.2. text</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-3-image" class="sidebar-link">10.3. image</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-4-swiper" class="sidebar-link">10.4. swiper</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-5-navigator" class="sidebar-link">10.5. navigator</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-6-rich-text" class="sidebar-link">10.6. rich-text</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-7-button" class="sidebar-link">10.7. button</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-8-icon" class="sidebar-link">10.8. icon</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-9-radio" class="sidebar-link">10.9. radio</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_10-10-checkbox" class="sidebar-link">10.10. checkbox</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-自定义组件" class="sidebar-link">11. ⾃定义组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-1-创建自定义组件" class="sidebar-link">11.1. 创建⾃定义组件</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-2-声明引入自定义组件" class="sidebar-link">11.2. 声明引⼊⾃定义组件</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-3-页面中使用自定义组件" class="sidebar-link">11.3. 页面中使用⾃定义组件</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-4-其他属性" class="sidebar-link">11.4. 其他属性</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-5-定义段与示例方法" class="sidebar-link">11.5. 定义段与示例方法</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-6-组件-自定义组件传参" class="sidebar-link">11.6. 组件-⾃定义组件传参</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_11-7-小结" class="sidebar-link">11.7. ⼩结</a></li></ul></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_12-小程序生命周期" class="sidebar-link">12. 小程序⽣命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_12-1-应用生命周期" class="sidebar-link">12.1. 应用⽣命周期</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_12-2-页面生命周期" class="sidebar-link">12.2. 页面⽣命周期</a></li><li class="sidebar-sub-header"><a href="/xiolblog/front_notes/mini-program/base.html#_12-3-页面生命周期图解" class="sidebar-link">12.3. 页面生命周期图解</a></li></ul></li></ul></li><li><a href="/xiolblog/front_notes/mini-program/project.html" class="sidebar-link">微信小程序项目</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="微信小程序-基础"><a href="#微信小程序-基础" class="header-anchor">#</a> 微信小程序 基础</h1> <p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer">官网传送门<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>推荐书籍：</p> <ul><li>《微信小程序开发零基础入门》</li> <li>《微信小程序开发实战(微课视频版)》</li></ul> <p>推荐视频：<a href="https://www.bilibili.com/video/BV1nE41117BQ?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click" target="_blank" rel="noopener noreferrer">零基础玩转微信小程序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_1-微信小程序介绍"><a href="#_1-微信小程序介绍" class="header-anchor">#</a> 1. 微信小程序介绍</h2> <blockquote><ul><li><p>微信小程序，简称小程序，英文名 <code>Mini Program</code> ，是一种不需要下载安装即可使用的应用</p></li> <li><p>它实现了应用“触⼿可及”的梦想，用户扫一扫或搜一下即可打开应用</p></li></ul></blockquote> <h3 id="_1-1-为什么是微信小程序"><a href="#_1-1-为什么是微信小程序" class="header-anchor">#</a> 1.1. 为什么是微信小程序 ？</h3> <ol><li>微信有海量用户，⽽且粘性很高，在微信⾥开发产品更容易触达用户；</li> <li>推广app 或公众号的成本太高。</li> <li>开发适配成本低。</li> <li>容易⼩规模试错，然后快速迭代。</li> <li>跨平台。</li></ol> <h3 id="_1-2-微信小程序历史"><a href="#_1-2-微信小程序历史" class="header-anchor">#</a> 1.2. 微信小程序历史</h3> <ul><li>2016年1月11日，微信之父张小龙时隔多年的公开亮相，解读了微信的四⼤价值观。张小龙指出， 越来越多产品通过公众号来做，因为这⾥开发、获取用户和传播成本更低。拆分出来的服务号并没 有提供更好的服务，所以微信内部正在研究新的形态，叫「微信小程序」 需要注意的是，之前是叫 做 <strong>应用号</strong>。</li> <li>2016年9月21日，微信小程序正式开启内测。在微信⽣态下，触⼿可及、用完即⾛的微信小程序引起广泛关注。腾讯云正式上线微信小程序解决方案，提供小程序在云端服务器的技术方案。</li> <li>2017年1月9日，微信推出的“小程序”正式上线。“小程序”是一种⽆需安装，即可使用的⼿ 机“应用”。不需要像往常一样下载App，用户在微信中“用完即⾛”。</li></ul> <h3 id="_1-3-疯狂的微信小程序"><a href="#_1-3-疯狂的微信小程序" class="header-anchor">#</a> 1.3. 疯狂的微信小程序</h3> <ol><li>微信月活已经达到10.82亿。其中55岁以上的用户也达到6300万</li> <li>信息传达数达到450亿，较去年增⻓18%;视频通话4.1亿次,增⻓100%</li> <li>小程序覆盖超过200+行业，交易额增⻓超过6倍，服务1000亿+⼈次,创造出了5000亿+的商业价值</li></ol> <h3 id="_1-4-还有其他的小程序-不容忽视"><a href="#_1-4-还有其他的小程序-不容忽视" class="header-anchor">#</a> 1.4. 还有其他的小程序 不容忽视</h3> <ol><li>支付宝小程序</li> <li>百度小程序</li> <li>QQ小程序</li> <li>今日头条 + 抖音小程序</li></ol> <h3 id="_1-5-体验"><a href="#_1-5-体验" class="header-anchor">#</a> 1.5. 体验</h3> <h4 id="_1-5-1-官方微信小程序体验"><a href="#_1-5-1-官方微信小程序体验" class="header-anchor">#</a> 1.5.1. 官方微信小程序体验</h4> <p><a href="https://github.com/wechat-miniprogram/miniprogram-demo" target="_blank" rel="noopener noreferrer">小程序示例源码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="/xiolblog/assets/img/图片1.5e798056.png"> <h4 id="_1-5-2-其他优秀的第三方小程序"><a href="#_1-5-2-其他优秀的第三方小程序" class="header-anchor">#</a> 1.5.2. 其他优秀的第三方小程序</h4> <ul><li>拼多多</li> <li>滴滴出行</li> <li>欢乐斗地主</li> <li>智行火车票</li> <li>唯品会</li> <li>。。。</li></ul> <h2 id="_2-环境准备"><a href="#_2-环境准备" class="header-anchor">#</a> 2. 环境准备</h2> <p>开发微信小程序之前，必须要准备好相应的环境</p> <h3 id="_2-1-注册账号"><a href="#_2-1-注册账号" class="header-anchor">#</a> 2.1. 注册账号</h3> <blockquote><p>建议使用全新的邮箱，没有注册过其他小程序或者公众号的。</p></blockquote> <p>访问<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" target="_blank" rel="noopener noreferrer">注册页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，耐心完成注册即可。</p> <h3 id="_2-2-获取appid"><a href="#_2-2-获取appid" class="header-anchor">#</a> 2.2. 获取APPID</h3> <p>由于后期调用微信小程序的接⼝等功能，需要索取开发者的小程序中的 <code>APPID</code> ，所以在注册成功后， 可登录，然后获取<code>APPID</code>。</p> <p>登录，成功后可看到如下界面</p> <p>然后复制你的APPID,悄悄的保存起来，不要给别⼈看到😄。</p> <img src="/xiolblog/assets/img/图片2.a7dd827b.png"> <img src="/xiolblog/assets/img/图片3.90f3a8bb.png"> <h3 id="_2-3-开发工具"><a href="#_2-3-开发工具" class="header-anchor">#</a> 2.3. 开发⼯具</h3> <p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="/xiolblog/assets/img/图片4.7ab467ec.png"> <p>微信小程序⾃带开发者⼯具，集 <strong>开发</strong> <strong>预览</strong> <strong>调试</strong> 发布 于一身的 完整环境。</p> <p>但是由于编码的体验不算好，因此 建议使用 <code>vs code</code> + <code>微信开发者工具</code> 来实现编码。</p> <p><code>vs code</code> 负责敲代码， <code>微信开发者工具</code> 负责预览。</p> <h2 id="_3-第一个微信小程序"><a href="#_3-第一个微信小程序" class="header-anchor">#</a> 3. 第一个微信小程序</h2> <h3 id="_3-1-打开微信开发者工具"><a href="#_3-1-打开微信开发者工具" class="header-anchor">#</a> 3.1. 打开微信开发者⼯具</h3> <blockquote><p>注意：第一次登录的时候 需要扫码登录</p></blockquote> <img src="/xiolblog/assets/img/图片5.291fb858.png"> <h3 id="_3-2-新建小程序项目"><a href="#_3-2-新建小程序项目" class="header-anchor">#</a> 3.2. 新建小程序项目</h3> <img src="/xiolblog/assets/img/图片6.5401746f.png"> <h3 id="_3-3-填写项目信息"><a href="#_3-3-填写项目信息" class="header-anchor">#</a> 3.3. 填写项目信息</h3> <img src="/xiolblog/assets/img/图片7.a0da69bd.png"> <h3 id="_3-4-成功"><a href="#_3-4-成功" class="header-anchor">#</a> 3.4. 成功</h3> <img src="/xiolblog/assets/img/图片8.da104d70.png"> <h2 id="_4-微信开发者工具介绍"><a href="#_4-微信开发者工具介绍" class="header-anchor">#</a> 4. 微信开发者⼯具介绍</h2> <p>详细的使用，可以查看<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html" target="_blank" rel="noopener noreferrer">官⽹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <img src="/xiolblog/assets/img/图片9.1760ccbf.png"> <h2 id="_5-小程序结构目录"><a href="#_5-小程序结构目录" class="header-anchor">#</a> 5. 小程序结构目录</h2> <p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/MINA.html" target="_blank" rel="noopener noreferrer">小程序框架<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的目标是通过尽可能简单、高效的方式让开发者可以在微信中开发具有原⽣APP体验的服务。</p> <p>小程序框架提供了自己的视图层描述语言 <code>WXML</code> 和 <code>WXSS</code> ，以及 <code>JavaScript</code> ，并在视图层与逻辑层间提供了数据传输和事件系统，让开发者能够专注于数据与逻辑。</p> <h3 id="_5-1-小程序文件结构和传统web对比"><a href="#_5-1-小程序文件结构和传统web对比" class="header-anchor">#</a> 5.1. 小程序文件结构和传统web对比</h3> <table><thead><tr><th style="text-align:center;">结构</th> <th style="text-align:center;">传统web</th> <th style="text-align:center;">微信小程序</th></tr></thead> <tbody><tr><td style="text-align:center;">结构</td> <td style="text-align:center;">HTML</td> <td style="text-align:center;">WXML</td></tr> <tr><td style="text-align:center;">样式</td> <td style="text-align:center;">CSS</td> <td style="text-align:center;">WXSS</td></tr> <tr><td style="text-align:center;">逻辑</td> <td style="text-align:center;">Javascript</td> <td style="text-align:center;">Javascript</td></tr> <tr><td style="text-align:center;">配置</td> <td style="text-align:center;">⽆</td> <td style="text-align:center;">JSON</td></tr></tbody></table> <p>通过以上对比得出，<strong>传统web</strong>是三层结构。⽽微信小程序 是四层结构，多了一层 <strong>配置.json</strong></p> <h3 id="_5-2-基本的项目目录"><a href="#_5-2-基本的项目目录" class="header-anchor">#</a> 5.2. 基本的项目目录</h3> <img src="/xiolblog/assets/img/图片10.1fa500f7.png"> <h2 id="_6-小程序配置文件"><a href="#_6-小程序配置文件" class="header-anchor">#</a> 6. 小程序配置文件</h2> <p>一个小程序应用程序会包括最基本的<strong>两种</strong>配置文件。</p> <blockquote><ul><li>一种是全局的 <code>app.json</code> 和 页面自己的 <code>page.json</code></li> <li>注意：配置文件中不能出现注释</li></ul></blockquote> <h3 id="_6-1-全局配置-app-json"><a href="#_6-1-全局配置-app-json" class="header-anchor">#</a> 6.1. <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" target="_blank" rel="noopener noreferrer">全局配置 app.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><code>app.json</code> 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、⽹络超时时间、底部tab等。<strong>普通快速启动项目</strong>⾥边的 <code>app.json</code> 配置.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token string">&quot;pages/index/index&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pages/logs/logs&quot;</span>
 <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;window&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;backgroundTextStyle&quot;</span><span class="token operator">:</span><span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;navigationBarBackgroundColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;navigationBarTitleText&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WeChat&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;navigationBarTextStyle&quot;</span><span class="token operator">:</span><span class="token string">&quot;black&quot;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>字段的含义</p> <ol><li><code>pages</code> 字段⸺用于描述当前小程序所有页面路径，这是为了让微信客⼾端知道当前你的小程序 页面定义在哪个目录。</li> <li><code>window</code> 字段⸺定义小程序所有页面的顶部背景颜色，文字颜色定义等。</li> <li>完整的配置信息请参考 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" target="_blank" rel="noopener noreferrer">app.json配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h4 id="_6-1-1-tabbar"><a href="#_6-1-1-tabbar" class="header-anchor">#</a> 6.1.1. tabbar</h4> <img src="/xiolblog/assets/img/图片11.db4eb299.png"> <h3 id="_6-2-页面配置page-json"><a href="#_6-2-页面配置page-json" class="header-anchor">#</a> 6.2. <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html" target="_blank" rel="noopener noreferrer">页面配置page.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>这⾥的 <code>page.json</code> 其实用来表示页面目录下的 <code>page.json</code> 这类和小程序页面相关的配置。</p> <p>开发者可以独立定义每个页面的一些属性，如顶部颜色、是否允许下拉刷新等等。</p> <p>页面的配置只能设置 <code>app.json</code> 中部分 <code>window</code> 配置项的内容，页面中配置项会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。</p> <table><thead><tr><th>属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th> <th>描述</th></tr></thead> <tbody><tr><td>navigationBarBackgroundColor</td> <td style="text-align:center;">HexColor</td> <td style="text-align:center;">#000000</td> <td>导航栏背景颜色，如#000000</td></tr> <tr><td>navigationBarTextStyle</td> <td style="text-align:center;">String</td> <td style="text-align:center;">white</td> <td>导航栏标题颜色，仅⽀持 <code>black</code> / <code>white</code></td></tr> <tr><td>navigationBarTitleText</td> <td style="text-align:center;">String</td> <td style="text-align:center;"></td> <td>导航栏标题文字内容</td></tr> <tr><td>backgroundColor</td> <td style="text-align:center;">HexColor</td> <td style="text-align:center;">#ffffff</td> <td>窗⼝的背景色</td></tr> <tr><td>backgroundTextStyle</td> <td style="text-align:center;">String</td> <td style="text-align:center;">dark</td> <td>下拉loading的样式，仅⽀持 <code>dark</code> / <code>light</code></td></tr> <tr><td>enablePullDownRefresh</td> <td style="text-align:center;">Boolean</td> <td style="text-align:center;">false</td> <td>是否全局开启下拉刷新。 详⻅ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh" target="_blank" rel="noopener noreferrer">Page.onPullDownRefresh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>onReachBottomDistance</td> <td style="text-align:center;">Number</td> <td style="text-align:center;">50</td> <td>页面上拉触底事件触发时距页面底部距离，单位为px。详⻅ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom" target="_blank" rel="noopener noreferrer">Page.onReachBottom<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>disableScroll</td> <td style="text-align:center;">Boolean</td> <td style="text-align:center;">false</td> <td>设置为 <code>true</code> 则页面整体不能上下滚动；只在页面配置中有效，⽆法在<code>app.json</code>中设置该项</td></tr></tbody></table> <h3 id="_6-3-sitemap-配置-了解即可"><a href="#_6-3-sitemap-配置-了解即可" class="header-anchor">#</a> 6.3. <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" target="_blank" rel="noopener noreferrer">sitemap 配置-了解即可<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>小程序根目录下的 <code>sitemap.json</code> 文件用于配置小程序及其页面是否允许被微信索引。</p> <h2 id="_7-模板语法"><a href="#_7-模板语法" class="header-anchor">#</a> 7. 模板语法</h2> <p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener noreferrer">基础组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener noreferrer">事件系统<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，可以构建出页面的结构。</p> <h3 id="_7-1-数据绑定"><a href="#_7-1-数据绑定" class="header-anchor">#</a> 7.1. 数据绑定</h3> <h4 id="_7-1-1-普通写法"><a href="#_7-1-1-普通写法" class="header-anchor">#</a> 7.1.1. 普通写法</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span> {{ message }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'Hello MINA!'</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_7-1-2-组件属性"><a href="#_7-1-2-组件属性" class="header-anchor">#</a> 7.1.2. 组件属性</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-{{id}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">0</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_7-1-3-bool类型"><a href="#_7-1-3-bool类型" class="header-anchor">#</a> 7.1.3. bool类型</h4> <p>不要直接写 <code>checked=&quot;false&quot;</code>，其计算结果是一个字符串。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>checkbox</span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>checkbox</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_7-2-运算"><a href="#_7-2-运算" class="header-anchor">#</a> 7.2. 运算</h3> <h4 id="_7-2-1-三元运算"><a href="#_7-2-1-三元运算" class="header-anchor">#</a> 7.2.1. 三元运算</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{flag ? true : false}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Hidden <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-2-2-算数运算"><a href="#_7-2-2-算数运算" class="header-anchor">#</a> 7.2.2. 算数运算</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span> {{a + b}} + {{c}} + d <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    c<span class="token operator">:</span> <span class="token number">3</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_7-2-3-逻辑判断"><a href="#_7-2-3-逻辑判断" class="header-anchor">#</a> 7.2.3. 逻辑判断</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{length &gt; 5}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-2-4-字符串运算"><a href="#_7-2-4-字符串运算" class="header-anchor">#</a> 7.2.4. 字符串运算</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{&quot;hello&quot; + name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MINA'</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_7-2-5-注意"><a href="#_7-2-5-注意" class="header-anchor">#</a> 7.2.5. 注意</h4> <blockquote><ul><li>花括号和引号之间如果有空格，将最终被解析成为字符串。</li></ul></blockquote> <h3 id="_7-3-列表渲染"><a href="#_7-3-列表渲染" class="header-anchor">#</a> 7.3. 列表渲染</h3> <h4 id="_7-3-1-wx-for"><a href="#_7-3-1-wx-for" class="header-anchor">#</a> 7.3.1. wx:for</h4> <p>项的变量名默认为 <code>item</code> <code>wx:for--item</code> 可以指定数组当前元素的变量名。</p> <p>下标变量名默认为 <code>index</code> <code>wx:for--index</code> 可以指定数组当前下标的变量名。</p> <p><code>wx:key</code> 用来提高数组渲染的性能</p> <p><code>wx:key</code> 绑定的值 有如下选择</p> <ol><li><code>string</code> 类型，表示循环项中的唯一属性 如</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">list</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;炒饭&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;炒面&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token literal-property property">wx</span><span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;id&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>保留字 <code>*this</code> ，它的意思是 <code>item</code>本身 ，<code>*this</code> 代表的必须是：唯一的字符串和数组。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">list</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token literal-property property">wx</span><span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;*this&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>代码：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{array}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 {{index}}: {{item.message}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    array<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'bar'</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_7-3-2-block"><a href="#_7-3-2-block" class="header-anchor">#</a> 7.3.2. block</h4> <p>渲染一个包含多节点的结构块 block 最终不会变成真正的dom元素</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{[1, 2, 3]}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*this<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span> {{index}}: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span> {{item}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_7-4-条件渲染"><a href="#_7-4-条件渲染" class="header-anchor">#</a> 7.4. 条件渲染</h3> <h4 id="_7-4-1-wx-if"><a href="#_7-4-1-wx-if" class="header-anchor">#</a> 7.4.1. wx:if</h4> <p>在框架中，使用 <code>wx:if=&quot;&quot;</code> 来判断是否需要渲染该代码块：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_7-4-2-hidden"><a href="#_7-4-2-hidden" class="header-anchor">#</a> 7.4.2. hidden</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{condition}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> True <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>类似 <code>wx:if</code></li> <li>频繁切换 用 <code>hidden</code></li> <li>不常使用 用 <code>wx:if</code></li></ul> <h2 id="_8-小程序事件的绑定"><a href="#_8-小程序事件的绑定" class="header-anchor">#</a> 8. 小程序事件的绑定</h2> <ul><li>小程序中绑定事件，通过<code>bind</code>关键字来实现。如 <code>bindtap</code> <code>bindinput</code> <code>bindchange</code> 等</li> <li>不同的组件⽀持不同的事件，具体看组件的说明即可。</li></ul> <h3 id="_8-1-wxml"><a href="#_8-1-wxml" class="header-anchor">#</a> 8.1. wxml</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-2-page"><a href="#_8-2-page" class="header-anchor">#</a> 8.2. page</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 绑定的事件</span>
  <span class="token function-variable function">handleInput</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;值被改变了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_8-3-特别注意"><a href="#_8-3-特别注意" class="header-anchor">#</a> 8.3. 特别注意</h3> <ol><li>绑定事件时不能带参数 不能带括号<strong>以下为错误写法</strong></li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput(100)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>事件传值 通过标签⾃定义属性的方式 和 <code>value</code></li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>事件触发时获取数据</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">handleInput</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// {item:100}</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">)</span>
      
    <span class="token comment">// 输入框的值</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_9-样式-wxss"><a href="#_9-样式-wxss" class="header-anchor">#</a> 9. <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" target="_blank" rel="noopener noreferrer">样式 WXSS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <ul><li>WXSS( <code>WeiXin Style Sheets</code> )是一套样式语言，用于描述 <code>WXML</code> 的组件样式。</li> <li>与 <strong>CSS</strong> 相比，<strong>WXSS</strong> 扩展的特性有：
<ul><li>响应式⻓度单位 <code>rpx</code></li> <li>样式导⼊</li></ul></li></ul> <h3 id="_9-1-尺寸单位"><a href="#_9-1-尺寸单位" class="header-anchor">#</a> 9.1. 尺⼨单位</h3> <ul><li><code>rpx</code> （responsive pixel）: 可以根据屏幕宽度进行⾃适应。规定屏幕宽为 <code>750rpx</code> 。</li> <li>如在<code>iPhone6</code>上，屏幕宽度为<code>375px</code>，共有750个物理像素，</li> <li>则<code>750rpx = 375px = 750物理像素</code> ，<code>1rpx = 0.5px = 1物理像素</code>。</li></ul> <table><thead><tr><th>设备</th> <th>rpx换算px (屏幕宽度/750)</th> <th>px换算rpx (750/屏幕宽度)</th></tr></thead> <tbody><tr><td>iPhone5</td> <td>1rpx = 0.42px</td> <td>1px = 2.34rpx</td></tr> <tr><td>iPhone6</td> <td>1rpx = 0.5px</td> <td>1px = 2rpx</td></tr> <tr><td>iPhone6 Plus</td> <td>1rpx = 0.552px</td> <td>1px = 1.81rpx</td></tr></tbody></table> <blockquote><p><strong>建议</strong>： 开发微信小程序时设计师可以用 iPhone6 作为视觉稿的标准。</p></blockquote> <p>使用步骤：</p> <ol><li>确定设计稿宽度 pageWidth</li> <li>计算比例 <code>750rpx = pageWidth px</code> ,因此 <code>1px=750rpx/pageWidth</code> 。</li> <li>在less文件中，只要把设计稿中的 <code>px</code> =&gt; <code>750/pageWidth rpx</code> 即可。</li></ol> <h3 id="_9-2-样式导入"><a href="#_9-2-样式导入" class="header-anchor">#</a> 9.2. 样式导⼊</h3> <ul><li>wxss中直接就⽀持，样式导⼊功能。</li> <li>也可以和 less中的导⼊混用。</li> <li>使用 <code>@import</code> 语句可以导⼊外联样式表，只⽀持<strong>相对路径</strong>。</li></ul> <p>示例代码：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/** common.wxss **/</span>
<span class="token selector">.small-p</span> <span class="token punctuation">{</span>
  padding<span class="token punctuation">:</span>5px<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/** app.wxss **/</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;common.wxss&quot;</span><span class="token punctuation">;</span></span>
<span class="token selector">.middle-p</span> <span class="token punctuation">{</span>
  padding<span class="token punctuation">:</span>15px<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_9-3-选择器"><a href="#_9-3-选择器" class="header-anchor">#</a> 9.3. 选择器</h3> <blockquote><ul><li>特别需要注意的是 小程序 不⽀持通配符 * 因此以下代码⽆效！！！</li></ul></blockquote> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">*</span><span class="token punctuation">{</span>
    margin<span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    padding<span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    box-sizing<span class="token punctuation">:</span>border-box<span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>目前⽀持的选择器有：</p> <table><thead><tr><th>选择器</th> <th>样例</th> <th>样例描述</th></tr></thead> <tbody><tr><td>.class</td> <td><code>.intro</code></td> <td>选择所有拥有 class=&quot;intro&quot; 的组件</td></tr> <tr><td>#id</td> <td><code>#firstname</code></td> <td>选择拥有 id=&quot;firstname&quot; 的组件</td></tr> <tr><td>element</td> <td><code>view</code></td> <td>选择所有 view 组件</td></tr> <tr><td>element, element</td> <td><code>view,checkbox</code></td> <td>选择所有文档的 view 组件和所有的 checkbox 组件</td></tr> <tr><td>nth-child(n)</td> <td><code>view:nth-child(n)</code></td> <td>选择某个索引的标签</td></tr> <tr><td>::after</td> <td><code>view::after</code></td> <td>在 view 组件后边插⼊内容</td></tr> <tr><td>::before</td> <td><code>view::before</code></td> <td>在 view 组件前边插⼊内容</td></tr></tbody></table> <h3 id="_9-4-小程序中使用less"><a href="#_9-4-小程序中使用less" class="header-anchor">#</a> 9.4. 小程序中使用less</h3> <p>原⽣小程序不⽀持<code>less</code>，其他基于小程序的框架⼤体都⽀持，如 wepy ， mpvue ， taro 等。</p> <p>但是仅仅因为一个less功能，⽽去引⼊一个框架，肯定是不可取的。因此可以用以下方式来实现</p> <ol><li>编辑器是<code>vscode</code></li> <li>安装插件<code>easy less</code></li></ol> <img src="/xiolblog/assets/img/图片12.dc50f616.png"> <ol start="3"><li>在vs code的设置中加⼊如下配置</li></ol> <div class="language-json line-numbers-mode"><pre class="language-json"><code> <span class="token property">&quot;less.compile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;outExt&quot;</span><span class="token operator">:</span>       <span class="token string">&quot;.wxss&quot;</span>
   <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>在要编写样式的地方，新建 <code>less</code> 文件，如 <code>index.less</code> ,然后正常编辑即可。</li></ol> <h2 id="_10-常⻅组件"><a href="#_10-常⻅组件" class="header-anchor">#</a> 10. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noopener noreferrer">常⻅组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>重点讲解小程序中常用的布局组件</p> <ul><li><code>view</code>,<code>text</code>,<code>rich--text</code>,<code>button</code>,<code>image</code>,</li> <li><code>navigator</code>,<code>icon</code>,<code>swiper</code>,<code>radio</code>,<code>checkbox</code>等</li></ul> <h3 id="_10-1-view"><a href="#_10-1-view" class="header-anchor">#</a> 10.1. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/view.html" target="_blank" rel="noopener noreferrer">view<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>代替原来的<code>div</code>标签</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hover-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h-class<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
点击我试试
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_10-2-text"><a href="#_10-2-text" class="header-anchor">#</a> 10.2. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/text.html" target="_blank" rel="noopener noreferrer">text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ol><li>文本标签</li> <li>只能嵌套text</li> <li>⻓按文字可以复制（只有该标签有这个功能）</li> <li>可以对空格 回⻋ 进行编码</li></ol> <table><thead><tr><th>属性名</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>selectable</td> <td>Boolean</td> <td>false</td> <td>文本是否可选</td></tr> <tr><td>decode</td> <td>Boolean</td> <td>false</td> <td>是否解码</td></tr></tbody></table> <h4 id="_10-2-1-代码"><a href="#_10-2-1-代码" class="header-anchor">#</a> 10.2.1. 代码</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">selectable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">decode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   普<span class="token entity named-entity" title="&amp;nbsp;">&amp;nbsp;</span>通
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_10-3-image"><a href="#_10-3-image" class="header-anchor">#</a> 10.3. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html" target="_blank" rel="noopener noreferrer">image<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ol><li>图⽚标签，image组件默认宽度320px、高度240px</li> <li>⽀持懒加载</li></ol> <table><thead><tr><th>属性名</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>src</td> <td>String</td> <td></td> <td>图⽚资源地址</td></tr> <tr><td>mode</td> <td>String</td> <td>scaleToFill</td> <td>图⽚裁剪、缩放的模式</td></tr> <tr><td>lazy-load</td> <td>Boolean</td> <td>false</td> <td>图⽚懒加载</td></tr></tbody></table> <p><strong>mode 有效值：</strong></p> <p>mode 有 13 种模式，其中 4 种是缩放模式，9种是裁剪模式。</p> <table><thead><tr><th>模式</th> <th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>缩放</td> <td>scaleToFill</td> <td>不保持纵横比缩放图⽚，使图⽚的宽高完全拉伸⾄填满image元素</td></tr> <tr><td>缩放</td> <td>aspectFit</td> <td>保持纵横比缩放图⽚，使图⽚的⻓边能完全显示出来。</td></tr> <tr><td>缩放</td> <td>aspectFill</td> <td>保持纵横比缩放图⽚，只保证图⽚的短边能完全显示出来。</td></tr> <tr><td>缩放</td> <td>widthFix</td> <td>宽度不变，高度⾃动变化，保持原图宽高比不变</td></tr> <tr><td>裁剪</td> <td>top</td> <td>不缩放图⽚，只显示图⽚的顶部区域</td></tr> <tr><td>裁剪</td> <td>bottom</td> <td>不缩放图⽚，只显示图⽚的底部区域</td></tr> <tr><td>裁剪</td> <td>center</td> <td>不缩放图⽚，只显示图⽚的中间区域</td></tr> <tr><td>裁剪</td> <td>left</td> <td>不缩放图⽚，只显示图⽚的左边区域</td></tr> <tr><td>裁剪</td> <td>right</td> <td>不缩放图⽚，只显示图⽚的右边区域</td></tr> <tr><td>裁剪</td> <td>top left</td> <td>不缩放图⽚，只显示图⽚的左上边区域</td></tr> <tr><td>裁剪</td> <td>top right</td> <td>不缩放图⽚，只显示图⽚的右上边区域</td></tr> <tr><td>裁剪</td> <td>bottom left</td> <td>不缩放图⽚，只显示图⽚的左下边区域</td></tr> <tr><td>裁剪</td> <td>bottom right</td> <td>不缩放图⽚，只显示图⽚的右下边区域</td></tr></tbody></table> <h3 id="_10-4-swiper"><a href="#_10-4-swiper" class="header-anchor">#</a> 10.4. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html" target="_blank" rel="noopener noreferrer">swiper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <blockquote><ul><li>微信内置轮播图组件</li></ul></blockquote> <img src="/xiolblog/assets/img/图片13.206ba0dd.png"> <p><strong>默认宽度 100% 高度 150px</strong></p> <table><thead><tr><th>属性名</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>indicator-dots</td> <td>Boolean</td> <td>false</td> <td>是否显示面板指示点</td></tr> <tr><td>indicator-color</td> <td>Color</td> <td>rgba(0, 0, 0, .3)</td> <td>指示点颜色</td></tr> <tr><td>indicator-active-color</td> <td>Color</td> <td>#000000</td> <td>当前选中的指示点颜色</td></tr> <tr><td>autoplay</td> <td>Boolean</td> <td>false</td> <td>是否⾃动切换</td></tr> <tr><td>interval</td> <td>Number</td> <td>5000</td> <td>⾃动切换时间间隔</td></tr> <tr><td>circular</td> <td>Boolean</td> <td>false</td> <td>是否循环轮播</td></tr></tbody></table> <h4 id="_10-4-1-swiper"><a href="#_10-4-1-swiper" class="header-anchor">#</a> 10.4.1. swiper</h4> <blockquote><p>滑块视图容器</p></blockquote> <h4 id="_10-4-2-swiper-item"><a href="#_10-4-2-swiper-item" class="header-anchor">#</a> 10.4.2. swiper-item</h4> <blockquote><p>滑块</p></blockquote> <p>默认宽度和高度都是100%</p> <h3 id="_10-5-navigator"><a href="#_10-5-navigator" class="header-anchor">#</a> 10.5. navigator</h3> <blockquote><p>导航组件 类似超链接标签</p></blockquote> <table><thead><tr><th>属性名</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>target</td> <td>String</td> <td>self</td> <td>在哪个目标上发⽣跳转，默认当前小程序，可选值 self/miniProgram</td></tr> <tr><td>url</td> <td>String</td> <td></td> <td>当前小程序内的跳转链接</td></tr> <tr><td>open-type</td> <td>String</td> <td>navigate</td> <td>跳转方式</td></tr></tbody></table> <p><strong>open-type 有效值：</strong></p> <table><thead><tr><th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>navigate</td> <td>保留当前页面，跳转到应用内的某个页面，但是不能跳到tabbar页面。</td></tr> <tr><td>redirect</td> <td>关闭当前页面，跳转到应用内的某个页面，但是不允许跳转到tabbar页面。</td></tr> <tr><td>switchTab</td> <td>跳转到tabBar页面，并关闭其他所有⾮tabBar页面。</td></tr> <tr><td>reLaunch</td> <td>关闭所有页面，打开到应用内的某个页面。</td></tr> <tr><td>navigateBack</td> <td>关闭当前页面，返回上一页面或多级页面。可通过 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html#getcurrentpages" target="_blank" rel="noopener noreferrer">getCurrentPages()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 获取当 前的页面栈，决定需要返回⼏层。</td></tr> <tr><td>exit</td> <td>退出小程序，target=&quot;miniProgram&quot;时⽣效。</td></tr></tbody></table> <h3 id="_10-6-rich-text"><a href="#_10-6-rich-text" class="header-anchor">#</a> 10.6. rich-text</h3> <blockquote><p>富文本标签</p></blockquote> <p>可以将字符串解析成 对应标签，类似 vue中 <code>v--html</code> 功能</p> <img src="/xiolblog/assets/img/图片14.cb4d034b.png"> <p>代码</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// 1   index.wxml 加载 节点数组 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rich-text</span> <span class="token attr-name">nodes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{nodes}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rich-text</span><span class="token punctuation">&gt;</span></span>
// 2 加载 字符串 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rich-text</span> <span class="token attr-name">nodes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>&lt;img
src=&quot;https://developers.weixin.qq.com/miniprogram/assets/images/head_global_z_@all.png&quot; alt=&quot;&quot;&gt;<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rich-text</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// index.js</span>
    
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    nodes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
      attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'div_class'</span><span class="token punctuation">,</span>
        style<span class="token operator">:</span> <span class="token string">'line-height: 60px; color: red;'</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        text<span class="token operator">:</span> <span class="token string">'Hello&amp;nbsp;World!'</span>
     <span class="token punctuation">}</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_10-6-1-nodes属性"><a href="#_10-6-1-nodes属性" class="header-anchor">#</a> 10.6.1. nodes属性</h4> <p><code>nodes</code>属性⽀持<code>字符串</code>和 <code>标签节点数组</code></p> <table><thead><tr><th>属性</th> <th>说明</th> <th>类型</th> <th>必填</th> <th>备注</th></tr></thead> <tbody><tr><td>name</td> <td>标签名</td> <td>string</td> <td>是</td> <td>⽀持部分受信任的HTML节点</td></tr> <tr><td>attrs</td> <td>属性</td> <td>object</td> <td>否</td> <td>⽀持部分受信任的属性，遵循Pascal命名法</td></tr> <tr><td>children</td> <td>⼦节点列表</td> <td>array</td> <td>否</td> <td>结构和 nodes 一致</td></tr></tbody></table> <p><strong>文本节点：type = text</strong></p> <table><thead><tr><th>属性</th> <th>说明</th> <th>类型</th> <th>必填</th> <th>备注</th></tr></thead> <tbody><tr><td>text</td> <td>文本</td> <td>string</td> <td>是</td> <td>⽀持entities</td></tr></tbody></table> <ul><li>nodes 不推荐使用 String 类型，性能会有所下降。</li> <li>rich--text 组件内屏蔽所有节点的事件。</li> <li>attrs 属性不⽀持 id ，⽀持 class 。</li> <li>name 属性⼤⼩写不敏感。 如果使用了不受信任的 HTML 节点，该节点及其所有⼦节点将会被移除。</li> <li>img 标签仅⽀持⽹络图⽚。</li></ul> <h3 id="_10-7-button"><a href="#_10-7-button" class="header-anchor">#</a> 10.7. button</h3> <img src="/xiolblog/assets/img/图片15.dbc0353f.png"> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{defaultSize}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{loading}}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">plain</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{plain}}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
 default
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>size</td> <td>string</td> <td>default</td> <td>否</td> <td>按钮的⼤⼩</td></tr> <tr><td>type</td> <td>string</td> <td>default</td> <td>否</td> <td>按钮的样式类型</td></tr> <tr><td>plain</td> <td>boolean</td> <td>false</td> <td>否</td> <td>按钮是否镂空，背景色透明</td></tr> <tr><td>disabled</td> <td>boolean</td> <td>false</td> <td>否</td> <td>是否禁用</td></tr> <tr><td>loading</td> <td>boolean</td> <td>false</td> <td>否</td> <td>名称前是否带 loading 图标</td></tr> <tr><td>form- type</td> <td>string</td> <td></td> <td>否</td> <td>用于 `` 组件，点击分别会触发 `` 组件的 submit/reset 事件</td></tr> <tr><td>open- type</td> <td>string</td> <td></td> <td>否</td> <td>微信开放能⼒</td></tr></tbody></table> <p><strong>size 的合法值</strong></p> <table><thead><tr><th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>default</td> <td>默认⼤⼩</td></tr> <tr><td>mini</td> <td>⼩尺⼨</td></tr></tbody></table> <p><strong>type 的合法值</strong></p> <table><thead><tr><th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>primary</td> <td>绿色</td></tr> <tr><td>default</td> <td>⽩色</td></tr> <tr><td>warn</td> <td>红色</td></tr></tbody></table> <p><strong>form-type 的合法值</strong></p> <table><thead><tr><th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>submit</td> <td>提交表单</td></tr> <tr><td>reset</td> <td>重置表单</td></tr></tbody></table> <p><strong>open-type 的合法值</strong></p> <table><thead><tr><th>值</th> <th>说明</th></tr></thead> <tbody><tr><td>contact</td> <td>打开客服会话，如果用户在会话中点击消息卡⽚后返回小程序，可以从bindcontact 回调中获得具体信息，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/customer-message/customer-message.html" target="_blank" rel="noopener noreferrer">具体说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>share</td> <td>触发用户转发，使用前建议先阅读<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share.html#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%BC%95" target="_blank" rel="noopener noreferrer">使用指引<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>getPhoneNumber</td> <td>获取用户⼿机号，可以从bindgetphonenumber回调中获取到用户信息， <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html" target="_blank" rel="noopener noreferrer">具体说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>getUserInfo</td> <td>获取用户信息，可以从bindgetuserinfo回调中获取到用户信息</td></tr> <tr><td>launchApp</td> <td>打开APP，可以通过app-parameter属性设定向APP传的参数<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html" target="_blank" rel="noopener noreferrer">具体说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>openSetting</td> <td>打开授权设置⻚</td></tr> <tr><td>feedback</td> <td>打开“意⻅反馈”页面，用户可提交反馈内容并上传<a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/debug/wx.getLogManager.html" target="_blank" rel="noopener noreferrer">日志<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，开发者可以登录<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener noreferrer">小程序管理后台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>后进⼊左侧菜单“客服反馈”页面获取到反馈内容</td></tr></tbody></table> <p><strong>open-type的contact的实现流程</strong></p> <ol><li>将小程序的 <code>appid</code> 由测试号改为自己的 <code>appid</code></li> <li>登录微信小程序官⽹，添加 客服客服 -- 微信微信</li> <li>为了方便演示，⽼师自己准备了两个账号
<ol><li>普通用户 A</li> <li>客服-微信 B</li></ol></li> <li>就是⼲！</li></ol> <h3 id="_10-8-icon"><a href="#_10-8-icon" class="header-anchor">#</a> 10.8. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/icon.html" target="_blank" rel="noopener noreferrer">icon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>type</td> <td>string</td> <td></td> <td>是</td> <td>icon的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear</td></tr> <tr><td>color</td> <td>string</td> <td></td> <td>否</td> <td>icon的颜色，同css的color</td></tr></tbody></table> <img src="/xiolblog/assets/img/图片16.4a6a4cb9.png"> <p><strong>代码:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    iconSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    iconType<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token string">'success_no_circle'</span><span class="token punctuation">,</span> <span class="token string">'info'</span><span class="token punctuation">,</span> <span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'waiting'</span><span class="token punctuation">,</span> <span class="token string">'cancel'</span><span class="token punctuation">,</span>
<span class="token string">'download'</span><span class="token punctuation">,</span> <span class="token string">'search'</span><span class="token punctuation">,</span> <span class="token string">'clear'</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
    iconColor<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'rgb(0,255,255)'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{iconSize}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{iconType}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{iconColor}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_10-9-radio"><a href="#_10-9-radio" class="header-anchor">#</a> 10.9. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener noreferrer">radio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <blockquote><p>可以通过 color属性来修改颜色</p></blockquote> <img src="/xiolblog/assets/img/图片17.7f8b50ad.png"> <p>需要搭配 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio-group.html" target="_blank" rel="noopener noreferrer">radio-group<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 一起使用</p> <h3 id="_10-10-checkbox"><a href="#_10-10-checkbox" class="header-anchor">#</a> 10.10. <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener noreferrer">checkbox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <blockquote><p>可以通过 color属性来修改颜色</p></blockquote> <img src="/xiolblog/assets/img/图片18.89c4a6a1.png"> <p>需要搭配 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox-group.html" target="_blank" rel="noopener noreferrer">checkbox-group<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 一起使用</p> <h2 id="_11-自定义组件"><a href="#_11-自定义组件" class="header-anchor">#</a> 11. ⾃定义组件</h2> <blockquote><p>类似vue或者react中的自定义组件。</p></blockquote> <p>小程序允许我们使用⾃定义组件的方式来构建页面。</p> <h3 id="_11-1-创建自定义组件"><a href="#_11-1-创建自定义组件" class="header-anchor">#</a> 11.1. 创建⾃定义组件</h3> <blockquote><p>类似于页面，一个自定义组件由 <code>json</code> <code>wxml</code> <code>wxss</code> <code>js</code> 4个文件组成</p></blockquote> <p>可以在微信开发者⼯具中快速创建组件的文件结构</p> <img src="/xiolblog/assets/img/图片19.9d8fa6d5.png"> <p>在文件夹内 <code>components/myHeader</code> ，创建组件名为 <code>myHeader</code></p> <img src="/xiolblog/assets/img/图片20.d1979ddd.png"> <h4 id="_11-1-1-声明组件"><a href="#_11-1-1-声明组件" class="header-anchor">#</a> 11.1.1. 声明组件</h4> <p>⾸先需要在组件的 <code>json</code> 文件中进行⾃定义组件声明</p> <p><code>myHeader.json</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_11-1-2-编辑组件"><a href="#_11-1-2-编辑组件" class="header-anchor">#</a> 11.1.2. 编辑组件</h4> <p>同时，还要在组件的 <code>wxml</code> 文件中编写组件模板，在 <code>wxss</code> 文件中加⼊组件样式
<code>slot</code> 表示插槽，类似vue中的slot</p> <p><code>myHeader.wxml</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 这是自定义组件的内部WXML结构 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 {{innerText}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在组件的 <code>wxss</code> 文件中编写样式</p> <blockquote><p>注意：在组件<code>wxss</code>中不应使用ID选择器、属性选择器和标签名选择器。</p></blockquote> <p><code>myHeader.wxss</code></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 这里的样式只应用于这个自定义组件 */</span>
<span class="token selector">.inner</span> <span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_11-1-3-注册组件"><a href="#_11-1-3-注册组件" class="header-anchor">#</a> 11.1.3. 注册组件</h4> <p>在组件的 <code>js</code> 文件中，需要使用 <code>Component()</code> 来注册组件，并提供组件的属性定义、内部数据和 ⾃定义方法</p> <p><code>myHeader.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里定义了innerText属性，属性值可以在组件使用时指定</span>
    innerText<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 期望要的数据是 string类型</span>
      type<span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'default value'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里是一些组件内部数据</span>
    someData<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里是一个自定义方法</span>
    <span class="token function-variable function">customMethod</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_11-2-声明引入自定义组件"><a href="#_11-2-声明引入自定义组件" class="header-anchor">#</a> 11.2. 声明引⼊⾃定义组件</h3> <p>⾸先要在页面的 <code>json</code> 文件中进行引用声明。还要提供对应的组件名和组件路径</p> <p><code>index.wxml</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{
 // 引用声明
  &quot;usingComponents&quot;: {
 // 要使用的组件的名称     // 组件的路径
    &quot;my-header&quot;:&quot;/components/myHeader/myHeader&quot;
 }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_11-3-页面中使用自定义组件"><a href="#_11-3-页面中使用自定义组件" class="header-anchor">#</a> 11.3. 页面中使用⾃定义组件</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 以下是对一个自定义组件的引用 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-header</span> <span class="token attr-name">inner-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Some text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>用来替代slot的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_11-4-其他属性"><a href="#_11-4-其他属性" class="header-anchor">#</a> 11.4. 其他属性</h3> <h3 id="_11-5-定义段与示例方法"><a href="#_11-5-定义段与示例方法" class="header-anchor">#</a> 11.5. 定义段与示例方法</h3> <p><code>Component</code> 构造器可用于定义组件，调用 <code>Component</code> 构造器时可以指定组件的属性、数据、方法等。</p> <table><thead><tr><th>定义段</th> <th>类型</th> <th>是否必填</th> <th>描述</th></tr></thead> <tbody><tr><td>properties</td> <td>Object Map</td> <td>否</td> <td>组件的对外属性，是属性名到属性设置的映射表，参⻅下文</td></tr> <tr><td>data</td> <td>Object</td> <td>否</td> <td>组件的内部数据，和 properties 一同用于组件的模板渲染</td></tr> <tr><td>observers</td> <td>Object</td> <td>否</td> <td>组件数据字段监听器，用于监听 properties 和 data 的变化，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html" target="_blank" rel="noopener noreferrer">数据监听器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>methods</td> <td>Object</td> <td>否</td> <td>组件的方法，包括事件响应函数和任意的⾃定义方法，关于事件响应函数的使用，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html" target="_blank" rel="noopener noreferrer">组件事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>created</td> <td>Function</td> <td>否</td> <td>组件⽣命周期函数，在组件实例刚刚被创建时执行，注意此时不能调用 setData ，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" target="_blank" rel="noopener noreferrer">组件⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>attached</td> <td>Function</td> <td>否</td> <td>组件⽣命周期函数，在组件实例进⼊页面节点树时执行，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" target="_blank" rel="noopener noreferrer">组件⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>ready</td> <td>Function</td> <td>否</td> <td>组件⽣命周期函数，在组件布局完成后执行，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" target="_blank" rel="noopener noreferrer">组件⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>moved</td> <td>Function</td> <td>否</td> <td>组件⽣命周期函数，在组件实例被移动到节点树另一个位置时执行，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" target="_blank" rel="noopener noreferrer">组件⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>detached</td> <td>Function</td> <td>否</td> <td>组件⽣命周期函数，在组件实例被从页面节点树移除时执行，参⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html" target="_blank" rel="noopener noreferrer">组件⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="_11-6-组件-自定义组件传参"><a href="#_11-6-组件-自定义组件传参" class="header-anchor">#</a> 11.6. 组件-⾃定义组件传参</h3> <ol><li>父组件通过<strong>属性</strong>的方式给⼦组件传递参数</li> <li>⼦组件通过<strong>事件</strong>的方式向父组件传递参数</li></ol> <h4 id="_11-6-1-过程"><a href="#_11-6-1-过程" class="header-anchor">#</a> 11.6.1. 过程</h4> <ol><li><strong>父组件</strong> 把数据 <code></code> 传递到 ⼦组件的 <code>tabItems</code> 属性中</li> <li><strong>父组件</strong> 监听 <code>onMyTab</code> 事件</li> <li><strong>⼦组件</strong> 触发 <code>bindmytap</code> 中的 <code>mytap</code> 事件
<ul><li>⾃定义组件触发事件时，需要使用 triggerEvent 方法，指定 事件名 、 detail 对象</li></ul></li> <li>父 -&gt; ⼦ 动态传值 this.selectComponent(&quot;#tabs&quot;);</li></ol> <p><strong>父组件代码</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// page.wxml
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tabs</span> <span class="token attr-name">tabItems</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{tabs}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindmytap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onMyTab<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
 内容-这里可以放插槽
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tabs</span><span class="token punctuation">&gt;</span></span>
// page.js
  data: {
    tabs:[
     {name:&quot;体验问题&quot;},
     {name:&quot;商品、商家投诉&quot;}
   ]
 },
  onMyTab(e){
    console.log(e.detail);
 },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>⼦组件代码</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// com.wxml
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab_title<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span>  <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{tabItems}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{item}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleItemActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
// com.js
Component({
  properties: {
    tabItems:{
      type:Array,
      value:[]
   }
 },
  /**
   * 组件的初始数据
   */
  data: {
 },
  /**
   * 组件的方法列表
   */
  methods: {
    handleItemActive(e){
      this.triggerEvent('mytap','haha');
   }
 }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_11-7-小结"><a href="#_11-7-小结" class="header-anchor">#</a> 11.7. ⼩结</h3> <ol><li>标签名是中划线的方式</li> <li>属性的方式也是要中划线的方式</li> <li>其他情况可以使用驼峰命名
<ul><li>组件的文件名如 <code>myHeader.js</code> 的等</li> <li>组件内的要接收的属性名 如 <code>innerText</code></li></ul></li> <li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/component.html" target="_blank" rel="noopener noreferrer">更多。。<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h2 id="_12-小程序生命周期"><a href="#_12-小程序生命周期" class="header-anchor">#</a> 12. 小程序⽣命周期</h2> <p>分为 <strong>应用⽣命周期</strong> 和 <strong>页面⽣命周期</strong></p> <blockquote><p>关于小程序前后台的定义和小程序的运行机制，请参考<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/operating-mechanism.html" target="_blank" rel="noopener noreferrer">运行机制章节<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <h3 id="_12-1-应用生命周期"><a href="#_12-1-应用生命周期" class="header-anchor">#</a> 12.1. <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html" target="_blank" rel="noopener noreferrer">应用⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <table><thead><tr><th>属性</th> <th>类型</th> <th>默认值</th> <th>必填</th> <th>说明</th></tr></thead> <tbody><tr><td>onLaunch</td> <td>function</td> <td>否</td> <td>监听小程序初始化。</td> <td></td></tr> <tr><td>onShow</td> <td>function</td> <td>否</td> <td>监听小程序启动或切前台。</td> <td></td></tr> <tr><td>onHide</td> <td>function</td> <td>否</td> <td>监听小程序切后台。</td> <td></td></tr> <tr><td>onError</td> <td>function</td> <td>否</td> <td>错误监听函数。</td> <td></td></tr> <tr><td>onPageNotFound</td> <td>function</td> <td>否</td> <td>页面不存在监听函数。</td> <td></td></tr></tbody></table> <h3 id="_12-2-页面生命周期"><a href="#_12-2-页面生命周期" class="header-anchor">#</a> 12.2. <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html" target="_blank" rel="noopener noreferrer">页面⽣命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>data</td> <td>Object</td> <td>页面的初始数据</td></tr> <tr><td>onLoad</td> <td>function</td> <td>⽣命周期回调—监听页面加载</td></tr> <tr><td>onShow</td> <td>function</td> <td>⽣命周期回调—监听页面显示</td></tr> <tr><td>onReady</td> <td>function</td> <td>⽣命周期回调—监听页面初次渲染完成</td></tr> <tr><td>onHide</td> <td>function</td> <td>⽣命周期回调—监听页面隐藏</td></tr> <tr><td>onUnload</td> <td>function</td> <td>⽣命周期回调—监听页面卸载</td></tr> <tr><td>onPullDownRefresh</td> <td>function</td> <td>监听用户下拉动作</td></tr> <tr><td>onReachBottom</td> <td>function</td> <td>页面上拉触底事件的处理函数</td></tr> <tr><td>onShareAppMessage</td> <td>function</td> <td>用户点击右上⻆转发</td></tr> <tr><td>onPageScroll</td> <td>function</td> <td>页面滚动触发事件的处理函数</td></tr> <tr><td>onResize</td> <td>function</td> <td>页面尺⼨改变时触发，详⻅<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html#%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%90%AF%E7%94%A8%E5%B1%8F%E5%B9%95%E6%97%8B%E8%BD%AC%E6%94%AF%E6%8C%81" target="_blank" rel="noopener noreferrer">响应显示区域变化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>onTabItemTap</td> <td>function</td> <td>当前是 tab ⻚时，点击 tab 时触发</td></tr></tbody></table> <h3 id="_12-3-页面生命周期图解"><a href="#_12-3-页面生命周期图解" class="header-anchor">#</a> 12.3. 页面生命周期图解</h3> <img src="/xiolblog/assets/img/图片21.dd0151eb.png"></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/7/2022, 5:09:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/xiolblog/front_notes/mini-program/project.html">
        微信小程序项目
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/xiolblog/assets/js/app.7bdb6cc9.js" defer></script><script src="/xiolblog/assets/js/2.43c78d48.js" defer></script><script src="/xiolblog/assets/js/1.12fb8230.js" defer></script><script src="/xiolblog/assets/js/10.d7e2e15a.js" defer></script>
  </body>
</html>
